// -*- mode: conf; indent-tabs-mode: nil -*-


action_handlers = {
	reboot = "reboot -f";
	factory-reset = "touch -f /opt/.factoryreset";
	safeboot = "touch -f /opt/etc/.safeboot";
}

headless_action = "factory-reset";

colors = {
    background = "#000000ff";
    title = "#1bc7ccff";
    ruler = "#1bc7ccff";
    white = "#ffffffff";
};

ruler_styles = {
    common = {
	c_ruler = "ruler";
    };
};

menu_styles = {
    common = {
	    item_height = 80;
	    item_spacing = 8;
	    text_pos_x = 15;
	    c_bg_selected = "title";
	    c_bg_unselected = "background";
	    c_text_selected = "white";
	    c_text_unselected = "white";
    };
};

screen_styles = {
    common = {
	c_background = "background";
    };
};

description_styles = {
    common = {
	c_title = "title";
	c_text = "white";
    };
};

rulers = {
	main = (
	{
		pos_x = 0;
		pos_y = 80;
		height = 2;
		style = "common";
	}, {
		pos_x = 0;
		pos_y = 420;
		height = 2;
		style = "common";
	});

	confirm = (
	{
		pos_x = 0;
		pos_y = 80;
		height = 2;
		style = "common";
	});
};

images = {
    background_default = {
        fname = "/usr/share/system-recovery/res/images/warning.png";
        c_bg = "background"; // reference to colors
        align_hor = "center";
        align_ver = "bottom";
        offset_x = 0;
        offset_y = 0;
        img_type = "alpha"; // alt: "no-alpha";
        // surface = ;
    };
    menu_title = {
        fname = "/usr/share/system-recovery/res/images/menu-title.png";
        c_bg = "title";
        align_hor = "center";
        align_ver = "top";
        offset_x = 0;
        offset_y = 20;
        img_type = "no-alpha"; // alt: "no-alpha";
        // surface = ;
    };
};

animations = {
    working = {
        fname = "/usr/share/system-recovery/res/images/tizen-anim.png";
        c_bg = "background";
        align_hor = "center";
        align_ver = "middle";
        offset_x = 0;
        offset_y = 0;
        frames_num = 0;
        current_frame = 0;
        img_type = "no-alpha"; // alt: "no-alpha";
        // surface = ;
    };
};

menus = {
    main = {
        pos_x = 0; // use M4 macros
        pos_y = 100; // use M4 macros
        style = "common";
        // item_selected = ;
        // item_default = ;
        actions = ({
            label = "Reboot system now";
            screen_switch_to = "reboot";
            // action_handler = ;
        },{
            label = "Safe mode";
            screen_switch_to = "safe";
            // action_handler = ;
        },{
            label = "Phone reinitialisation";
            screen_switch_to = "factory";
            // action_handler = ;
        });
    };
    reboot = {
        pos_x = 0; // use M4 macros
        pos_y = 480; // use M4 macros
        style = "common";
        item_selected = 1;
        item_default = 1;
        actions = ({
            label = "Yes";
            action_handler = "reboot";
            exit_after_action = 0;
        },{
            label = "No";
            screen_switch_to = "BACK";
        });
    };
    safe = {
        pos_x = 0; // use M4 macros
        pos_y = 480; // use M4 macros
        style = "common";
        item_selected = 1;
        item_default = 1;
        actions = ({
            label = "Yes";
            action_handler = "safeboot";
            exit_after_action = 1;
        },{
            label = "No";
            screen_switch_to = "BACK";
        });
    };
    factory = {
        pos_x = 0; // use M4 macros
        pos_y = 480; // use M4 macros
        style = "common";
        item_selected = 1;
        item_default = 1;
        actions = ({
            label = "Yes";
            screen_switch_to = "factory-run";
            action_handler = "factory-reset";
            exit_after_action = 1;
        },{
            label = "No";
            screen_switch_to = "BACK";
        });
    };
};

descriptions = {
	main = {
		pos_x = 15;
		pos_y = 480;
		style = "common";
		title = "Controls:";
		text = "Volume Up/Down to move menu cursor\n"
			"Power button to select";
	};

	reboot = {
		pos_x = 15;
		pos_y = 100;
		title = "The phone will be restarted.";
		text = "Continue?";
		style = "common";
	};

	safe = {
		pos_x = 15;
		pos_y = 100;
		title = "Safe mode:",
		text = "The phone will be started in safe mode.\n"
			"Home screen will be changed to default\n"
			"setting and just allow a user to use\n"
			"only preloaded applications.\n"
			"Continue?";
		style = "common";
	};

	factory = {
		pos_x = 15;
		pos_y = 100;
		title = "Factory reset (except SD-card)";
		text = "This will erase all data from your\n"
			"phone's internal storage, including\n"
			"settings of downloaded and preloaded\n"
			"applications and system configuration.\n"
			"Continue?";
		style = "common";
	};

	factory-run = {
		pos_x = 15;
		pos_y = 100;
		style = "common";
		title = "Restoring settings to factory default.";
		text = "Please wait. Do not turn off.\n"
			"(Hold power button for 3 seconds\n"
			"to reboot the device. Not recommended.)";
	}
};

screens = {
    main = {
        style = "common";
        menu = "main";
        rulers = "main";
	description = "main";
        // progress_bar = ;
        images = ("background_default", "menu_title");
        // animations = ;
        // on_enter = ;
        // draw = ;
        screen_back = "CURRENT";
    };
    reboot = {
        style = "common";
        menu = "reboot";
        description = "reboot"
        rulers = "confirm" ;
        // progress_bar = ;
        images = ("background_default", "menu_title");
        // animations = ;
        // on_enter = ;
        // draw = ;
        screen_back = "main";
    };
    safe = {
        style = "common";
        menu = "safe";
        description = "safe";
        rulers = "confirm";
        // progress_bar = ;
        images = ("background_default", "menu_title");
        // animations = ;
        // on_enter = ;
        // draw = ;
        screen_back = "main";
    };
    factory = {
        style = "common";
        menu = "factory";
        description = "factory";
        rulers = "confirm";
        // progress_bar = ;
        images = ("background_default", "menu_title");
        // animations = ;
        // on_enter = ;
        // draw = ;
        screen_back = "main";
    };
    factory-run = {
        style = "common";
        description = "factory-run";
        rulers = "confirm";
        images = ("background_default", "menu_title");
        animations = ("working");
        screen_back = "main";
        allow_force_reboot = 1;
    };
};
